RewriteEngine On
RewriteCond %{SERVER_PORT} !=443
RewriteRule ^(.*)$ https://vincentpillot.fr/$1 [R=301,L]

<IfModule mod_expires.c>
    ExpiresActive on
    ExpiresDefault "access plus 1 year"
    ExpiresByType images/jpg "access plus 1 year"
    ExpiresByType images/jpeg "access plus 1 year"
    ExpiresByType images/png "access plus 1 year"
    ExpiresByType images/gif "access plus 1 year"
    ExpiresByType images/svg+xml "access plus 1 year"
    AddType image/x-icon .ico
    ExpiresByType images/ico "access plus 1 year"
    ExpiresByType images/icon "access plus 1 year"
    ExpiresByType images/x-icon "access plus 1 year"
    # CSS
    ExpiresByType style/css "access plus 1 month"
    # JavaScript
    ExpiresByType ressources/scripts/javascript "access plus 1 month"
</IfModule>


# ACTIVER GZIP
# Commenter la ligne ci-dessous si plantage
# php_flag zlib.output_compression on
# Activer le filtre
SetOutputFilter DEFLATE
# Certains navigateurs ne peuvent pas avoir GZIP (les vieux)
BrowserMatch ^Mozilla/4 gzip-only-text/html
# Certains navigateurs ne peuvent pas avoir GZIP (les vieux)
BrowserMatch ^Mozilla/4\.0678 no-gzip# On ne veut pas d'IE
BrowserMatch \bMSIE !no-gzip !gzip-only-text/html
# On ne compresse pas les images, elles le sont déjà.
SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary
#on gère le cas des proxy
Header append Vary User-Agent env=!dont-vary